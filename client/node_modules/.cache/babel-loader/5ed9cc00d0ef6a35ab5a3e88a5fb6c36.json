{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rieck\\\\Documents\\\\Coding\\\\Spotify\\\\client\\\\src\\\\App.js\";\nimport React, { useState } from 'react';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport logo from \"./logo.svg\";\nimport './App.css';\n\nfunction App() {\n  const params = getHashParams();\n  const spotifyApi = new SpotifyWebApi();\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [name, setName] = useState(\"Not Checked\");\n  const [albumArt, setAlbumArt] = useState(\"\");\n\n  function getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    e = r.exec(q);\n\n    while (e) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n      e = r.exec(q);\n    }\n\n    return hashParams;\n  }\n\n  function getNowPlaying() {\n    spotifyApi.getMyCurrentPlaybackState().then(response => {\n      setLoggedIn(true);\n      setName(response.item.name);\n      setAlbumArt(response.item.album.images[0].url);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:8888\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, \" Login to Spotify \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, \"Now Playing: \", name), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: albumArt,\n    style: {\n      height: 150\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  })), loggedIn && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => getNowPlaying(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Check Now Playing\"));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/rieck/Documents/Coding/Spotify/client/src/App.js"],"names":["React","useState","SpotifyWebApi","App","params","getHashParams","spotifyApi","loggedIn","setLoggedIn","name","setName","albumArt","setAlbumArt","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","getNowPlaying","getMyCurrentPlaybackState","then","response","item","album","images","url","height"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,aAAP,MAA0B,oBAA1B;;AAEA,OAAO,WAAP;;AAEA,SAASC,GAAT,GAAe;AACb,QAAMC,MAAM,GAAGC,aAAa,EAA5B;AACA,QAAMC,UAAU,GAAG,IAAIJ,aAAJ,EAAnB;AAEA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,aAAD,CAAhC;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;;AAEA,WAASI,aAAT,GAAyB;AACvB,QAAIQ,UAAU,GAAG,EAAjB;AACA,QAAIC,CAAJ;AAAA,QAAOC,CAAC,GAAG,sBAAX;AAAA,QACIC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CADR;AAEAN,IAAAA,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAJ;;AACA,WAAOF,CAAP,EAAU;AACPD,MAAAA,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,GAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC;AACAA,MAAAA,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAJ;AACF;;AACD,WAAOH,UAAP;AACD;;AAED,WAASU,aAAT,GAAyB;AACvBjB,IAAAA,UAAU,CAACkB,yBAAX,GACGC,IADH,CACSC,QAAD,IAAc;AACZlB,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAE,MAAAA,OAAO,CAACgB,QAAQ,CAACC,IAAT,CAAclB,IAAf,CAAP;AACAG,MAAAA,WAAW,CAACc,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,MAApB,CAA2B,CAA3B,EAA8BC,GAA/B,CAAX;AACD,KALT;AAOD;;AACD,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAC,uBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACgBrB,IADhB,CAFF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEE,QAAV;AAAoB,IAAA,KAAK,EAAE;AAAEoB,MAAAA,MAAM,EAAE;AAAV,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CALF,EAQGxB,QAAQ,iBACP;AAAQ,IAAA,OAAO,EAAE,MAAMgB,aAAa,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBATJ,CADF;AAgBD;;AAED,eAAepB,GAAf","sourcesContent":["import React, {useState} from 'react';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport logo from './logo.svg';\nimport './App.css';\n\nfunction App() {\n  const params = getHashParams()\n  const spotifyApi = new SpotifyWebApi();\n  \n  const [loggedIn, setLoggedIn] = useState(false);\n  const [name, setName] = useState(\"Not Checked\");\n  const [albumArt, setAlbumArt] = useState(\"\");\n  \n  function getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    e = r.exec(q)\n    while (e) {\n       hashParams[e[1]] = decodeURIComponent(e[2]);\n       e = r.exec(q);\n    }\n    return hashParams;\n  }\n\n  function getNowPlaying() {\n    spotifyApi.getMyCurrentPlaybackState()\n      .then((response) => {\n              setLoggedIn(true)\n              setName(response.item.name) \n              setAlbumArt(response.item.album.images[0].url)\n            }\n        );\n  }\n  return (\n    <div className=\"App\">\n      <a href='http://localhost:8888' > Login to Spotify </a>\n      <div>\n        Now Playing: {name}\n      </div>\n      <div>\n        <img src={albumArt} style={{ height: 150 }}/>\n      </div>\n      {loggedIn &&\n        <button onClick={() => getNowPlaying()}>\n          Check Now Playing\n        </button>\n      }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}